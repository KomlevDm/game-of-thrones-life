"use strict";(self.webpackChunkgame_of_thrones=self.webpackChunkgame_of_thrones||[]).push([[592],{4008:(g,l,i)=>{i.d(l,{W:()=>h});var a=i(5785),n=i(4650),c=i(4843);let h=(()=>{class o{router;audioService;backUrl="/menu";constructor(t,e){this.router=t,this.audioService=e}back(){this.audioService.routing.replay(),this.router.navigateByUrl(this.backUrl)}static \u0275fac=function(e){return new(e||o)(n.Y36(c.F0),n.Y36(a.Q))};static \u0275cmp=n.Xpm({type:o,selectors:[["back-button"]],hostBindings:function(e,s){1&e&&n.NdJ("keydown.escape",function(){return s.back()},!1,n.evT)},inputs:{backUrl:"backUrl"},standalone:!0,features:[n.jDz],decls:1,vars:0,consts:[["src","assets/img/back-arrow.png",3,"click"]],template:function(e,s){1&e&&(n.TgZ(0,"img",0),n.NdJ("click",function(){return s.back()}),n.qZA())},styles:["[_nghost-%COMP%]{position:absolute;top:20px;left:20px;display:block;width:40px;transition:transform .15s linear}[_nghost-%COMP%]:hover{transform:scale(1.2)}img[_ngcontent-%COMP%]{width:100%}"],changeDetection:0})}return o})()},1354:(g,l,i)=>{i.d(l,{r:()=>h});var a=i(5785),n=i(4650);const c=["*"];let h=(()=>{class o{audioService;isDisabled=!1;isUseHover=!0;constructor(t){this.audioService=t}hover(){this.isUseHover&&this.audioService.activeButton.replay()}static \u0275fac=function(e){return new(e||o)(n.Y36(a.Q))};static \u0275cmp=n.Xpm({type:o,selectors:[["button"]],hostVars:4,hostBindings:function(e,s){1&e&&n.NdJ("pointerenter",function(){return s.hover()}),2&e&&n.ekj("disabled",s.isDisabled)("hover",s.isUseHover)},inputs:{isDisabled:"isDisabled",isUseHover:"isUseHover"},standalone:!0,features:[n.jDz],ngContentSelectors:c,decls:1,vars:0,template:function(e,s){1&e&&(n.F$t(),n.Hsn(0))},styles:["[_nghost-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;width:100%;padding:20px 16px 17px;overflow:hidden;font:inherit;font-size:22px;color:#fff;letter-spacing:5px;text-shadow:2px 3px 0 rgb(0,0,0),2px 3px 0 rgb(0,0,0);background-color:#fcfcfc33;background-image:linear-gradient(45deg,rgba(255,255,255,0) 30%,rgba(255,255,255,.949),rgba(255,255,255,0) 70%),linear-gradient(to right,rgba(255,255,255,.741),rgba(255,255,255,0) 20%,rgba(255,255,255,0) 70%,rgba(255,255,255,.431)),linear-gradient(to right,rgba(12,12,12,.78),rgb(202,202,202) 45%,rgba(125,125,125,.502)),linear-gradient(to right,rgb(125,125,125),rgba(169,169,169,.729) 45%,rgba(0,0,0,.588)),linear-gradient(to right,rgb(0,0,0),rgb(255,255,255) 45%,rgb(0,0,0)),linear-gradient(to right,rgb(0,0,0),rgb(255,255,255) 45%,rgba(4,4,4,.878));background-repeat:no-repeat;background-position:200% 0,0 0,0 0,0 100%,0 4px,0 calc(100% - 4px);background-size:200% 100%,auto,100% 2px,100% 2px,100% 1px,100% 1px;border:none;cursor:inherit;transition:background-color .1s linear,transform .1s linear}[_nghost-%COMP%]:active{top:3px}.hover[_nghost-%COMP%]:hover{background-color:#f103;background-position:-200% 0,0 0,0 0,0 100%,0 4px,0 calc(100% - 4px);transform:scale(1.1);transition:background-position .8s linear,transform .1s linear}.selected[_nghost-%COMP%]{background-color:#f103}.disabled[_nghost-%COMP%]{filter:brightness(.5);pointer-events:none}"],changeDetection:0})}return o})()},8484:(g,l,i)=>{i.d(l,{R:()=>n});var a=i(4650);let n=(()=>{class c{text="";static \u0275fac=function(d){return new(d||c)};static \u0275cmp=a.Xpm({type:c,selectors:[["logo"]],inputs:{text:"text"},standalone:!0,features:[a.jDz],decls:4,vars:1,consts:[["src","assets/img/fire-sphere.webp",1,"fire-sphere"],[1,"logo"],[1,"ice-and-fire-font"]],template:function(d,t){1&d&&(a._UZ(0,"img",0),a.TgZ(1,"div",1)(2,"div",2),a._uU(3),a.qZA()()),2&d&&(a.xp6(3),a.Oqu(t.text))},styles:["[_nghost-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:center}.fire-sphere[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%}.logo[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:225px;height:137px;padding:0 20px;background-image:url(logo.4fa145f22f0dda8b.webp);background-repeat:no-repeat;background-size:cover;box-sizing:border-box}.logo[_ngcontent-%COMP%]   .ice-and-fire-font[_ngcontent-%COMP%]{padding-top:5px;padding-left:15px;overflow-x:hidden;letter-spacing:12px;white-space:nowrap;text-shadow:-1px -2px 0 rgb(0,0,0),-1px -2px 3px rgb(255,255,255),-1px -2px 3px rgb(255,255,255),-1px -2px 3px rgb(255,255,255)}"],changeDetection:0})}return c})()},3364:(g,l,i)=>{i.d(l,{g:()=>c});var a=i(7579),n=i(4650);let c=(()=>{class h{destroyer$=new a.x;ngOnDestroy(){this.destroyer$.next(),this.destroyer$.complete()}static \u0275fac=function(t){return new(t||h)};static \u0275dir=n.lG2({type:h})}return h})()},4795:(g,l,i)=>{i.d(l,{G:()=>d});var a=i(4650),n=i(3903),c=i(2722),h=i(3364),o=i(5785);let d=(()=>{class t extends h.g{audioService=(0,a.f3M)(o.Q);self=(0,a.f3M)(n.so);ngOnInit(){this.self.afterOpened().pipe((0,c.R)(this.destroyer$)).subscribe(()=>this.audioService.openDialog.replay()),this.self.beforeClosed().pipe((0,c.R)(this.destroyer$)).subscribe(()=>this.audioService.closeDialog.replay())}static \u0275fac=function(){let s;return function(u){return(s||(s=a.n5z(t)))(u||t)}}();static \u0275dir=a.lG2({type:t,features:[a.qOj]})}return t})()},4449:(g,l,i)=>{i.d(l,{U:()=>h});var a=i(3184),n=i(6929),c=i(4650);let h=(()=>{class o{attacks=new Set;game=null;start(t){this.game=t,this.game.ticker.add(this.render)}ngOnDestroy(){this.game&&(this.game.ticker.remove(this.render),this.attacks.forEach(t=>t.sprite.destroy()),this.attacks.clear(),this.game=null)}deleteOneAsync(t){setTimeout(()=>{t.sprite.destroyed||t.sprite.destroy(),this.attacks.delete(t)})}addOne(t){if(!this.game)return;const e=new a.jyi(t.texture);e.scale.set(0),e.anchor.set(.5),e.position.set(t.x,t.y);const s="hero"===t.whose?1:-1;this.attacks.add({whose:t.whose,sprite:e,render:p=>{e.x=e.x+s*p*t.speed,t.yRender?.(e,p),e.angle=e.angle+s*p*t.rotationAngleDeg,e.scale.x<t.scale&&e.scale.set(e.scale.x+t.scaleSpeed)}}),this.game.stage.addChild(e)}render=t=>{this.attacks.forEach(e=>{const s=n.z.X.DELTA(e.sprite);"hero"===e.whose&&e.sprite.x>n.z.WIDTH+s||"monster"===e.whose&&e.sprite.x<-s?this.deleteOneAsync(e):e.render(t)})};static \u0275fac=function(e){return new(e||o)};static \u0275prov=c.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})()},1337:(g,l,i)=>{i.d(l,{Q:()=>o});var a=i(3184),n=i(6284),c=i(6929),h=i(4650);let o=(()=>{class d{assetsService;static SPEED=3;game=null;sprite=null;constructor(e){this.assetsService=e}start(e){this.game=e,this.sprite=a.oO3.from(this.assetsService.bg,{width:c.z.WIDTH,height:c.z.HEIGHT}),this.game.stage.addChild(this.sprite),this.game.ticker.add(this.render)}render=e=>{this.sprite&&(this.sprite.tilePosition.x-=e*d.SPEED)};ngOnDestroy(){this.game&&(this.game.ticker.remove(this.render),this.game=null,this.sprite=null)}static \u0275fac=function(s){return new(s||d)(h.LFG(n.z))};static \u0275prov=h.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})()},9405:(g,l,i)=>{i.d(l,{e:()=>p});var a=i(3184),n=i(1135),c=i(6284),h=i(4449),o=i(5785),d=i(1337),t=i(6929),e=i(4650);const s={LIVES:5,SPEED:d.Q.SPEED+3,ATTACK:{SPEED:d.Q.SPEED+6,SCALE:.21,SCALE_SPEED:.015,ROTATION_ANGLE_DEG:7},SHIELD_LIFETIME_MS:1e4,PUNCH:{ARC_COEF:400,LIFETIME_MS:1e4},LIGHTNING:{SPEED:5,LIFETIME_MS:1e4}};let p=(()=>{class u{assetsService;attacksService;audioService;lives$;isShieldActivated$;isPunchActivated$;isLightningActivated$;score$;name="-";sprite=null;set lives(r){this._lives$.next(r)}get lives(){return this._lives$.value}get isShieldActivated(){return this.shield.isActivated$.value}get isPunchActivated(){return this.punch.isActivated$.value}get isLightningActivated(){return this.lightning.isActivated$.value}set score(r){this._score$.next(r)}get score(){return this._score$.value}_lives$=new n.X(s.LIVES);_score$=new n.X(0);attack={speed:s.ATTACK.SPEED,scale:s.ATTACK.SCALE,scaleSpeed:s.ATTACK.SCALE_SPEED,rotationAngleDeg:s.ATTACK.ROTATION_ANGLE_DEG,isKeydownSpace:!1,isKeyupSpace:!1,set isAdd(r){this.isKeydownSpace=r,this.isKeyupSpace=r},get isAdd(){return this.isKeydownSpace&&this.isKeyupSpace}};shield={sprite:null,isActivated$:new n.X(!1),lifetimeMs:s.SHIELD_LIFETIME_MS};punch={isActivated$:new n.X(!1),lifetimeMs:s.PUNCH.LIFETIME_MS};lightning={isActivated$:new n.X(!1),lifetimeMs:s.LIGHTNING.LIFETIME_MS};game=null;speed=s.SPEED;isKeydownArrowUp=!1;isKeydownArrowDown=!1;constructor(r,_,E){this.assetsService=r,this.attacksService=_,this.audioService=E,this.lives$=this._lives$.asObservable(),this.isShieldActivated$=this.shield.isActivated$.asObservable(),this.isPunchActivated$=this.punch.isActivated$.asObservable(),this.isLightningActivated$=this.lightning.isActivated$.asObservable(),this.score$=this._score$.asObservable()}start(r){this.game=r,this.game.ticker.add(this.render),this.shield.sprite=new a.KgH(this.assetsService.shield.animations.self),this.shield.sprite.scale.set(2.7),this.shield.sprite.anchor.set(.5),this.shield.sprite.animationSpeed=.4,this.shield.sprite.alpha=.5,this.shield.sprite.visible=!1,this.shield.sprite.play(),this.sprite=new a.KgH(this.assetsService.hero.animations.self),this.sprite.scale.set(.32),this.sprite.anchor.set(.5),this.sprite.animationSpeed=.4,this.sprite.position.set(t.z.X.HERO+t.z.X.DELTA(this.sprite),t.z.Y.MID),this.sprite.play(),this.sprite.addChild(this.shield.sprite),this.game.stage.addChild(this.sprite),addEventListener("keydown",this.keydownHandler),addEventListener("keyup",this.keyupHandler)}ngOnDestroy(){this.game&&(this.game.ticker.remove(this.render),removeEventListener("keydown",this.keydownHandler),removeEventListener("keyup",this.keyupHandler),this.game=null,this.shield.sprite=null,this.sprite=null,this.lives=s.LIVES,this.score=0,this.attack.speed=s.ATTACK.SPEED,this.attack.scale=s.ATTACK.SCALE,this.attack.scaleSpeed=s.ATTACK.SCALE_SPEED,this.attack.rotationAngleDeg=s.ATTACK.ROTATION_ANGLE_DEG,this.attack.isKeydownSpace=!1,this.attack.isKeyupSpace=!1,this.shield.isActivated$.next(!1),this.shield.lifetimeMs=s.SHIELD_LIFETIME_MS,this.punch.isActivated$.next(!1),this.punch.lifetimeMs=s.PUNCH.LIFETIME_MS,this.lightning.isActivated$.next(!1),this.lightning.lifetimeMs=s.LIGHTNING.LIFETIME_MS,this.speed=s.SPEED,this.isKeydownArrowUp=!1,this.isKeydownArrowUp=!1)}activateShield(){if(this.shield.sprite){if(this.isShieldActivated)return void(this.shield.lifetimeMs=s.SHIELD_LIFETIME_MS);this.shield.sprite.visible=!0,this.shield.isActivated$.next(!0)}}activatePunch(){this.isPunchActivated?this.punch.lifetimeMs=s.SHIELD_LIFETIME_MS:this.punch.isActivated$.next(!0)}activateLightning(){this.isLightningActivated?this.lightning.lifetimeMs=s.LIGHTNING.LIFETIME_MS:(this.speed+=s.LIGHTNING.SPEED,this.attack.speed+=s.LIGHTNING.SPEED,this.lightning.isActivated$.next(!0))}render=r=>{this.yRender(r),this.attackRender(),this.shieldRender(r),this.punchRender(r),this.lightningRender(r)};yRender(r){this.isKeydownArrowUp&&this.upStep(r),this.isKeydownArrowDown&&this.downStep(r)}upStep(r){this.sprite&&(this.sprite.y<t.z.Y.MIN+t.z.Y.DELTA(this.sprite)||(this.sprite.y-=r*this.speed))}downStep(r){this.sprite&&(this.sprite.y>t.z.HEIGHT-t.z.Y.DELTA(this.sprite)||(this.sprite.y+=r*this.speed))}shieldRender(r){if(this.shield.sprite&&this.isShieldActivated){if(this.shield.lifetimeMs<=0)return this.shield.sprite.visible=!1,this.shield.isActivated$.next(!1),void(this.shield.lifetimeMs=s.SHIELD_LIFETIME_MS);this.shield.lifetimeMs-=r*a.vB5.shared.deltaMS}}attackRender(){this.attack.isAdd&&(this.audioService.heroAttack.replay(),this.isPunchActivated?this.addPunch():this.addAttack(),this.attack.isAdd=!1)}addAttack(r){this.sprite&&this.attacksService.addOne({texture:this.assetsService.attacks["hero-attack"],x:this.sprite.x+t.z.X.DELTA(this.sprite),y:this.sprite.y,whose:"hero",speed:this.attack.speed,rotationAngleDeg:this.attack.rotationAngleDeg,scale:this.attack.scale,scaleSpeed:this.attack.scaleSpeed,yRender:r})}lightningRender(r){if(this.isLightningActivated){if(this.lightning.lifetimeMs<=0)return this.speed-=s.LIGHTNING.SPEED,this.attack.speed-=s.LIGHTNING.SPEED,this.lightning.isActivated$.next(!1),void(this.lightning.lifetimeMs=s.PUNCH.LIFETIME_MS);this.lightning.lifetimeMs-=r*a.vB5.shared.deltaMS}}punchRender(r){if(this.isPunchActivated){if(this.punch.lifetimeMs<=0)return this.punch.isActivated$.next(!1),void(this.punch.lifetimeMs=s.PUNCH.LIFETIME_MS);this.punch.lifetimeMs-=r*a.vB5.shared.deltaMS}}addPunch(){this.addAttack((r,_)=>{r.y-=r.x/(_*s.PUNCH.ARC_COEF)}),this.addAttack(),this.addAttack((r,_)=>{r.y+=r.x/(_*s.PUNCH.ARC_COEF)})}keydownHandler=r=>{switch(r.code){case"ArrowUp":this.isKeydownArrowUp=!0;break;case"ArrowDown":this.isKeydownArrowDown=!0;break;case"Space":this.attack.isKeydownSpace=!0}};keyupHandler=r=>{switch(r.code){case"ArrowUp":this.isKeydownArrowUp=!1;break;case"ArrowDown":this.isKeydownArrowDown=!1;break;case"Space":this.attack.isKeyupSpace=!0}};static \u0275fac=function(_){return new(_||u)(e.LFG(c.z),e.LFG(h.U),e.LFG(o.Q))};static \u0275prov=e.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})()}}]);